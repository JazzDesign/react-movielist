{"version":3,"sources":["assets/data/movies.js","redux/moviesSlice.js","redux/categorySlice.js","components/Select.js","components/Movie.js","components/Pagination.js","components/MovieList.js","containers/App.js","redux/store.js","index.js"],"names":["movies","id","title","category","likes","dislikes","movies$","Promise","resolve","reject","setTimeout","moviesSlice","createSlice","name","initialState","reducers","addMovies","state","action","payload","map","movie","push","deleteMovie","filter","incrementLikes","index","findIndex","incrementDislikes","actions","categorySlice","updateCategory","selectCategory","Select","categories","dispatch","useDispatch","useSelector","onChange","e","console","log","target","value","Movie","className","src","alt","onClick","Pagination","moviesPerPage","totalMovies","paginate","pageNumbers","i","Math","ceil","num","MovieList","useState","currentPage","setCurrentPage","indexLastMovie","indexFirstMovie","finalMovies","mo","currentMovies","slice","length","selectMovies","App","loading","setLoading","useEffect","then","arr","comp","getUniqueCategory","final","indexOf","configureStore","reducer","moviesReducer","categoryReducer","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.f75c4e07.chunk.js","sourcesContent":["const movies = [\n  {\n    id: '1',\n    title: 'Oceans 8',\n    category: 'Comedy',\n    likes: 4,\n    dislikes: 1\n  }, {\n    id: '2',\n    title: 'Midnight Sun',\n    category: 'Comedy',\n    likes: 2,\n    dislikes: 0\n  }, {\n    id: '3',\n    title: 'Les indestructibles 2',\n    category: 'Animation',\n    likes: 3,\n    dislikes: 1\n  }, {\n    id: '4',\n    title: 'Sans un bruit',\n    category: 'Thriller',\n    likes: 6,\n    dislikes: 6\n  }, {\n    id: '5',\n    title: 'Creed II',\n    category: 'Drame',\n    likes: 16,\n    dislikes: 2\n  }, {\n    id: '6',\n    title: 'Pulp Fiction',\n    category: 'Thriller',\n    likes: 11,\n    dislikes: 3\n  }, {\n    id: '7',\n    title: 'Pulp Fiction',\n    category: 'Thriller',\n    likes: 12333,\n    dislikes: 32\n  }, {\n    id: '8',\n    title: 'Seven',\n    category: 'Thriller',\n    likes: 2,\n    dislikes: 1\n  }, {\n    id: '9',\n    title: 'Inception',\n    category: 'Thriller',\n    likes: 2,\n    dislikes: 1\n  }, {\n    id: '10',\n    title: 'Gone Girl',\n    category: 'Thriller',\n    likes: 22,\n    dislikes: 12\n  },\n]\n\nexport const movies$ = new Promise((resolve, reject) => setTimeout(resolve, 100, movies))","import { createSlice } from '@reduxjs/toolkit';\n\nexport const moviesSlice = createSlice({\n  name: 'movies',\n  initialState: [],\n  reducers: {\n    addMovies: (state, action) => {\n      action.payload.map(movie => {\n        return state.push(movie);\n      });\n    },\n    deleteMovie: (state, action) => {\n      return state.filter((movie) => movie.id !== action.payload.id);\n    },\n    incrementLikes: (state, action) => {\n      const index = state.findIndex((movie) => movie.id === action.payload.id);\n      state[index].likes +=1;\n\n    },\n    incrementDislikes: (state, action) => {\n      const index = state.findIndex((movie) => movie.id === action.payload.id);\n      state[index].dislikes += 1;\n    }\n  },\n});\n\nexport const { addMovies, deleteMovie, incrementLikes, incrementDislikes } = moviesSlice.actions;\n\nexport default moviesSlice.reducer;","import { createSlice } from '@reduxjs/toolkit';\n\nexport const categorySlice = createSlice({\n  name: 'category',\n  initialState: {\n    category: 'All',\n  },\n  reducers: {\n    updateCategory: (state, action) => {\n      state.category = action.payload;\n    },\n  },\n});\n\nexport const { updateCategory } = categorySlice.actions;\n\nexport default categorySlice.reducer;","import React from 'react'\nimport '../assets/styles/components/Select.scss';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { updateCategory } from '../redux/categorySlice';\n\nconst selectCategory = state => state.category;\nexport function Select({ categories }) {\n  const dispatch = useDispatch();\n  const category = useSelector(selectCategory);\n\n  const handleSelect = (e) => {\n    console.log(e.target.value);\n    dispatch(updateCategory(e.target.value))\n  }\n  return (\n    <section>\n      <h2>Your selection is: {category.category} </h2>\n      <select\n        name=\"select\"\n        onChange={handleSelect}\n      >\n        <option value=\"All\">All</option>\n        {categories.map(category => (\n          <option key={category.id} value={category.category} >\n            {category.category}\n          </option>\n        ))}\n      </select>\n    </section>\n  )\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { deleteMovie, incrementLikes, incrementDislikes } from '../redux/moviesSlice';\n\nexport function Movie({ movie }) {\n  const imageDemo = 'https://images.pexels.com/photos/705792/pexels-photo-705792.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500';\n  const dispatch = useDispatch();\n\n  const handleDelete = () => {\n    dispatch(deleteMovie({id: movie.id}))\n  }\n\n  const handleLikes = () => {\n    dispatch(incrementLikes({id: movie.id}));\n  }\n\n  const handleDislikes = () => {\n    dispatch(incrementDislikes({id: movie.id}));\n  }\n  return (\n    <div className=\"grid-card\">\n      <div className=\"grid-card__img\">\n        <img src={imageDemo} alt=\"Movie img\" />\n      </div>\n      <div className=\"grid-card__details\">\n        <h4 className=\"grid-card__details--title\">\n          {movie.title}\n        </h4>\n        <p className=\"grid-card__details--likes\">\n          Likes: {movie.likes}\n          <button className=\"small-button\" onClick={handleLikes}>+</button>\n        </p>\n        <p className=\"grid-card__details--dislikes\">\n          Dislikes: {movie.dislikes}\n          <button className=\"small-button\" onClick={handleDislikes}>-</button>\n        </p>\n        <div className=\"grid-card__details--delete\">\n          <button className=\"big-button\" onClick={handleDelete}>Delete</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\nimport '../assets/styles/components/Pagination.scss';\n\nexport function Pagination({ moviesPerPage, totalMovies, paginate }) {\n  const pageNumbers = [];\n\n  for(let i = 1; i <= Math.ceil(totalMovies / moviesPerPage); i++){\n    pageNumbers.push(i);\n  }\n  return (\n    <nav className=\"pagination\">\n      <button className='pagination-button' onClick={() => paginate('back')}>Précédent </button>\n      <ul className=\"pagination-list\">\n        {pageNumbers.map(num => (\n          <li key={num}>\n            {num}\n          </li>\n        ))}\n      </ul>\n      <button className='pagination-button' onClick={() => paginate('next')}>Suivant </button>\n    </nav>\n  )\n}\n","import React from 'react';\nimport { Movie } from './Movie';\nimport { useSelector } from 'react-redux';\nimport { useState} from 'react';\nimport '../assets/styles/components/MovieList.scss';\nimport { Pagination } from '../components/Pagination';\n\nconst selectCategory = state => state.category;\nexport function MovieList({ movies }) {\n  const categories = useSelector(selectCategory);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [moviesPerPage] = useState(4);\n\n  //Pagination\n  const indexLastMovie = currentPage * moviesPerPage;\n  const indexFirstMovie = indexLastMovie - moviesPerPage;\n  const finalMovies = movies.filter((mo) => (categories.category === 'All') ? mo : mo.category === categories.category);\n  const currentMovies = finalMovies.slice(indexFirstMovie, indexLastMovie);\n\n  const handlePaginate = (action) => {\n\n    if (currentPage > 1) {\n      if (action === 'back') {\n        setCurrentPage(currentPage - 1);\n      }\n    }\n    if (currentPage < Math.ceil(finalMovies.length / moviesPerPage)) {\n      if (action === 'next') {\n        setCurrentPage(currentPage + 1);\n        console.log('next');\n      }\n    }\n  }\n\n  return (\n    <>\n      <div className=\"grid\">\n        {currentMovies.map((movie) => (\n          <Movie key={movie.id} movie={movie} />\n        ))}\n      </div>\n      {(movies.length !== 0) &&\n        <Pagination moviesPerPage={moviesPerPage} totalMovies={finalMovies.length} paginate={handlePaginate} />\n      }\n    </>\n  )\n}\n","import '../assets/styles/App.scss';\nimport { movies$ } from '../assets/data/movies';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useState, useEffect } from 'react';\nimport { addMovies } from '../redux/moviesSlice';\nimport { Select } from '../components/Select';\nimport { MovieList } from '../components/MovieList';\n\n\nconst selectMovies = state => state.movies;\n\nfunction App() {\n  const dispatch = useDispatch();\n\n\n  const [loading, setLoading] = useState(false);\n  const movies = useSelector(selectMovies);\n\n  function getUnique(arr, comp) {\n    const unique = arr\n      //store the comparison values in array\n      .map(e => e[comp])\n      // store the keys of the unique objects\n      .map((e, i, final) => final.indexOf(e) === i && i)\n      // eliminate the dead keys & store unique objects\n      .filter(e => arr[e])\n      .map(e => arr[e]);\n    return unique;\n  }\n\n  useEffect(() => {\n      setLoading(true);\n      movies$.then((movies) => {\n        dispatch(addMovies(movies));\n      });\n      setLoading(false);\n  }, [dispatch]);\n\n  const getUniqueCategory = getUnique(movies, \"category\");\n\n\n\n\n\n  return (\n    <div className=\"App\">\n      <div className=\"app-wrapper\">\n        <h1>Movie List</h1>\n        <Select categories={getUniqueCategory} />\n        {!loading &&\n          (movies.length !== 0) ? <MovieList movies={movies} /> : <h1>No more movies :(</h1>\n        }\n\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport moviesReducer from './moviesSlice';\nimport categoryReducer from './categorySlice';\n\nexport default configureStore({\n  reducer: {\n    movies: moviesReducer,\n    category: categoryReducer,\n  },\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './containers/App';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} >\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}